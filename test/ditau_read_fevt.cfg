process USER = {

    # initialize  MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"
    replace MessageLogger.cerr.default.limit = 10

#    service = MessageLogger  {
#	untracked vstring destinations   = { "cout" }
#	untracked vstring categories     = { "PFProducer" }
#	untracked vstring debugModules   = { "*" }
#	untracked PSet cout = { 
#	    untracked string threshold = "INFO"
#	    untracked PSet INFO            = { untracked int32 limit = 0 }
#	    untracked PSet DEBUG           = { untracked int32 limit = 0 }
#	    untracked PSet PFProducer = { untracked int32 limit = 10000000}
#	} 
#    }
    
    service = RandomNumberGeneratorService
    {
	untracked uint32 sourceSeed = 98764 
	PSet moduleSeeds =
	{
	    untracked uint32 VtxSmeared = 123456789
	    untracked uint32 g4SimHits  = 11	
	}    
    }

    # The particle data table
    # include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
//    es_prefer = PythiaPDTESSource {}

    source = PoolSource {
        untracked vstring fileNames = {
	    'rfio:/castor/cern.ch/cms/store/RelVal/2007/3/20/SVSuite130pre6Tau-DiTaus-DIGI-RECO/0000/6CD49E9D-82D7-DB11-AED9-00304855C45A.root'
	}
	untracked int32 maxEvents = 10
	
    }
    
    #input module:
//    include "RecoParticleFlow/PFProducer/test/singletau_source.cff"      
    include "RecoParticleFlow/PFBlockProducer/test/allReco.cff"
    include "RecoParticleFlow/PFClusterProducer/data/particleFlowCluster.cff"
    include "RecoParticleFlow/PFBlockProducer/data/particleFlowBlock.cff"
    include "RecoEcal/EgammaClusterProducers/data/islandClusteringSequence.cff"     
    #include "Configuration/Applications/data/reco-application-calorimetry-caltowers.cff"

    ###############################
    #output module:
    module GEN-SIM-DIGI-RECO = PoolOutputModule
    {
	untracked string fileName = "ditau_read_fevt.root" 
	untracked vstring outputCommands = 
	{
            "keep *",
            "keep recoPFRecHits_*_*_*",
            "keep recoPFClusters_*_*_*",
            "keep recoPFRecTracks_*_*_*",
            "keep recoPFSimParticles_*_*_*",
            "keep recoBasicClusters_islandBasicClusters_*_*",
	    "keep recoPFCandidates_particleFlow_*_*",
	    "keep recoCandidatesOwned_particleFlowJetCandidates_*_*",
	    "keep recoCaloJets_*_*_*",
            "keep recoBasicJets_*_*_*"
#	    "keep TrackCandidates_ckfTrackCandidates_*_*", 
#	    "keep *_ckfTrackCandidates_*_*", 
#	    "keep TrackCandidates_*_*_*", 
#	    "keep TrackingParticles_*_*_*",
#	    "keep TrackingRecHitsOwned_*_*_*", 
#	    "keep TrackingVertexs_*_*_*", 
#	    "keep *_ecalPreshowerRecHit_*_*", 
#            "keep *_ecalRecHit_*_*", 
#            "keep *_hbhereco_*_*", 
#	    "keep *_hfreco_*_*", 
#	    "keep *_horeco_*_*", 
#            "keep *_towerMaker_*_*", 
#	    "keep *_g4SimHits_*_*", 
#	    "keep edmHepMCProduct_*_*_*", 
#	    "keep *_siStripMatchedRecHits_*_*", 
#            "keep *_siPixelRecHits_*_*", 
#            "keep *_siPixelClusters_*_*", 
#	    "keep *_siStripClusters_*_*", 
#            "keep recoVertexs_*_*_*" 
	}
    }

    ###############################
    # now define what you want to do
    #path p = {psim, pdigi, reconstruction, islandClusteringSequence, particleFlowCluster, particleFlow, iterativeCone5PFJets}
    path p = {ckftracks, islandClusteringSequence, particleFlowCluster, particleFlowBlock  }
    # digitization and reconstruction are sequences of actions that are defined in the .cff files that were included

    endpath outpath = {GEN-SIM-DIGI-RECO}	

}
