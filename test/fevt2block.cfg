process BLOCK = {

    include "RecoParticleFlow/Configuration/data/RecoParticleFlow_refit.cff"

    service = MessageLogger  {
	untracked vstring destinations   = { "cout" }
	untracked vstring categories     = {
	    "PFClusterProducer",
	    "PFSimParticleProducer",
	    "PFBlockProducer" 
	}
	untracked vstring debugModules   = { "*" }
	untracked PSet cout = { 
	    untracked string threshold = "INFO"
	    untracked PSet INFO            = { untracked int32 limit = 0 }
	    untracked PSet DEBUG           = { untracked int32 limit = 0 }
	    untracked PSet PFClusterProducer = { 
		untracked int32 limit = 10000000
	    }
	    untracked PSet PFBlockProducer = { 
		untracked int32 limit = 10000000
	    }
	    untracked PSet PFSimParticleProducer = { 
		untracked int32 limit = 10000000
	    }
	} 
    }

    replace particleFlowCluster.verbose     = true
    replace particleFlowBlock.verbose       = true
    replace particleFlowSimParticle.verbose = true
    

    #service = Timing { }

    source = PoolSource {
        untracked vstring fileNames = { 'rfio:/castor/cern.ch/user/a/azabi/EFLOW2/TAU/CMSSW131/singletau_fevt_1.root' }
	untracked int32 maxEvents = -1
    }
    

    
    
    

    ###############################
    #output module:
    module dump = EventContentAnalyzer {}
    module GEN-SIM-DIGI-RECO = PoolOutputModule
    {
	untracked string fileName = "block.root" 
	untracked vstring outputCommands = 
	{
            "drop *",
            "keep recoPFRecHits_*_*_*",
            "keep recoPFClusters_*_*_*",
            "keep recoPFRecTracks_*_*_*",
	    "keep recoPFBlocks_particleFlowBlock_*_*",
            "keep recoPFSimParticles_*_*_*",
            "keep recoTracks_*_*_*",
	    "keep recoCaloJets_*_*_*"
	}
    }

    ###############################
    # module dump = EventContentAnalyzer {}

    path p = { 
#	dump,
	particleFlowCluster,
	particleFlowTrack,
	particleFlowSimParticle,
	particleFlowBlock
    }

    endpath outpath = {GEN-SIM-DIGI-RECO}	

}
