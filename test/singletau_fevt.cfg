process Rec = 
{
    untracked PSet maxEvents = {untracked int32 input = 5}
    
    untracked PSet configurationMetadata = {
	untracked string version = "$Revision: 1.2 $"
	untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/RecoParticleFlow/PFBlockProducer/test/Attic/singletau_fevt.cfg,v $"
	untracked string annotation = "RelVal hadronic taus"
    }
    
    include "Configuration/ReleaseValidation/data/Services.cfi"
    replace RandomNumberGeneratorService.sourceSeed = 123456788


    include "Configuration/StandardSequences/data/FakeConditions.cff"
    untracked PSet options = {
	include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
	untracked bool wantSummary = true
	untracked bool makeTriggerResults = true 
    }

/*
    source = FlatRandomEGunSource
    {
	untracked uint32 firstRun  = 1
	
	untracked PSet  PGunParameters =
	{
	    # PDG code for generated particle
            # you can request more than 1 particle:
	    # untracked vint32  PartID = { 211, 11, -13 }
	    untracked vint32 PartID = {15}
	    untracked double MinEta = -1.0
	    untracked double MaxEta = 1.0
	    # it must be in radians
	    untracked double MinPhi = -3.14159265358979323846
	    untracked double MaxPhi =  3.14159265358979323846
	    untracked double Ptmin = 50. 
	    untracked double Ptmax = 50.0001
	}
	# for printouts, set it to 1 (or greater)
	untracked int32 Verbosity = 0
    }

*/        
    source = PythiaSource 
    {
	untracked bool pythiaVerbosity = false
	#  possibility to run single or double back-to-back particles with PYTHIA
	# if ParticleID = 0, run PYTHIA
	untracked int32 ParticleID = -15
	untracked bool DoubleParticle = false
	untracked double Ptmin = 50. 
	untracked double Ptmax = 50.0001
	untracked double Etamin = -1. 
	untracked double Etamax = 1.
	untracked double Phimin = 0. 
	untracked double Phimax = 360.
	
	PSet PythiaParameters = 
	{
	    # This is a vector of ParameterSet names to be read, in this order
	    vstring parameterSets = 
	    {
		"pythiaUESettings",
		"pythiaTauJets"
	    }
	    
	    # CMS default pythia parameters
	    # (Not very relevant, since no underlying event).
	    include "Configuration/Generator/data/PythiaUESettings.cfi"
	    
	    # Tau jets (configuration by A. Nikitenko)
	    vstring pythiaTauJets = 
	    {
		'MDME(89,1)=0      ! no tau->electron',
		'MDME(90,1)=0      ! no tau->muon'
	    }
	}
    }    
 
    
    include "FWCore/MessageService/data/MessageLogger.cfi"
    #replace MessageLogger.cout.threshold = "ERROR"
    #replace MessageLogger.cerr.default.limit = 10
    
    
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
    include "Configuration/StandardSequences/data/VtxSmearedNoSmear.cff" 
    
    
    path p1 = {psim} # simulation
    path p2 = {pdigi} # digitization
    path p3 = {localreco, globalreco_plusRS, recopixelvertexing, RecoSim} # reconstruction
    
    # Event output
    include "Configuration/EventContent/data/EventContent.cff"
    module FEVT = PoolOutputModule 
    { 
     	using FEVTSIMEventContent
#	untracked string fileName = "/castor/cern.ch/user/c/cbern/CMSSW/CMSSW_1_5_0/Taus_2/singletau_fevt_8.root"
 	untracked string fileName = "singletau_fevt.root"
    	untracked PSet dataset ={	
	    untracked string dataTier = "GEN-SIM-DIGI-RECO"
	}
    }
    
    endpath outpath = {FEVT}
    
    schedule = {p1,p2,p3,outpath}

}
