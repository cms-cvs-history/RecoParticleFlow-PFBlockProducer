process Rec = 
{
    untracked PSet maxEvents = {untracked int32 input = 5}
include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"    
    untracked PSet configurationMetadata = {
	untracked string version = "$Revision: 1.2 $"
	untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/RecoParticleFlow/PFBlockProducer/test/singletau_fevt.cfg,v $"
	untracked string annotation = "RelVal hadronic taus"
    }
    
    service = MessageLogger  {
	untracked vstring destinations   = { "cout" }
	untracked vstring categories     = {
	    "PFClusterProducer",
	    # "PFSimParticleProducer",
	    "PFBlockProducer",
	    "PFProducer"
	}

	untracked vstring debugModules   = { "*" }
	untracked PSet cout = { 
	    untracked string threshold = "INFO"
	    untracked PSet INFO            = { untracked int32 limit = 0 }
	    untracked PSet DEBUG           = { untracked int32 limit = 0 }
	    untracked PSet PFClusterProducer = { 
		untracked int32 limit = 10000000
	    }
	    untracked PSet PFBlockProducer = { 
		untracked int32 limit = 10000000
	    }
	    untracked PSet PFProducer = { 
		untracked int32 limit = 10000000
	    }
	} 
    }


    include "Configuration/StandardSequences/data/FakeConditions.cff"
    untracked PSet options = {
	include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
	untracked bool wantSummary = true
	untracked bool makeTriggerResults = true 
    }


 
    source = PythiaSource 
    {
	untracked bool pythiaVerbosity = false
	#  possibility to run single or double back-to-back particles with PYTHIA
	# if ParticleID = 0, run PYTHIA
	untracked int32 ParticleID = -15
	untracked bool DoubleParticle = false
	untracked double Ptmin = 50. 
	untracked double Ptmax = 50.0001
	untracked double Etamin = 0 
	untracked double Etamax = 1
	untracked double Phimin = 0. 
	untracked double Phimax = 360.
	
	PSet PythiaParameters = 
	{
	    # This is a vector of ParameterSet names to be read, in this order
	    vstring parameterSets = 
	    {
		"pythiaUESettings",
		"pythiaTauJets"
	    }
	    
	    # CMS default pythia parameters
	    # (Not very relevant, since no underlying event).
	    include "Configuration/Generator/data/PythiaUESettings.cfi"
	    
	    # Tau jets (configuration by A. Nikitenko)
	    vstring pythiaTauJets = 
	    {
		'MDME(89,1)=0      ! no tau->electron',
		'MDME(90,1)=0      ! no tau->muon'
	    }
	}
    }
    

    
    
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
    include "Configuration/StandardSequences/data/VtxSmearedNoSmear.cff" 
    
    
    path p1 = {psim} # simulation
    path p2 = {pdigi} # digitization
    path p3 = {localreco,globalreco,particleFlowReco} # reconstruction
    
 
    module FEVT = PoolOutputModule 
    { 

	untracked string fileName = "blocks_full.root"
	untracked vstring outputCommands = 
	{
            "drop *",
            "keep recoPFRecHits_*_*_*",
            "keep recoPFClusters_*_*_*",
            "keep recoPFRecTracks_*_*_*",
	    "keep recoPFBlocks_particleFlowBlock_*_*",
	    "keep recoPFCandidates_particleFlow_*_*",
	    "keep recoCandidatesOwned_*_*_*",
            "keep recoPFSimParticles_*_*_*",
            "keep recoTracks_*_*_*",
	    "keep recoCaloJets_*_*_*",
	    "keep CaloTowersSorted_*_*_*",
	    "keep edmHepMCProduct_*_*_*"	    
	}
    }
    
    endpath outpath = {FEVT}
    
    schedule = {p1,p2,p3,outpath}

}
